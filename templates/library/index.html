{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>図書一覧</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <nav>
        <form method="get" action=".">
            <input type="text" name="q" placeholder="タイトル・著者" value="{{ request.GET.q|default_if_none:'' }}">
            <button type="submit">検索</button>
        </form>
    </nav>
    <div class="adjust">
        <h1>図書一覧</h1>
        <table>
            <thead>
                <tr>
                    <th>タイトル</th>
                    <th>著者</th>
                    <th>ISBN</th>
                    <th>出版日</th>
                    <th>内容</th>
                    <th>状況</th>
                </tr>
            </thead>
            <tbody>
                {% for article in articles %}
                    <tr>
                        <td><a href="{% url 'library:detail' article.id %}">{{ article.title }}</a></td>
                        <td>{{ article.author }}</td>
                        <td>{{ article.isbn }}</td>
                        <td>{{ article.publicationday }}</td>
                        <td>{{ article.content }}</td>
                        <td>
                            {% if article.is_on_loan %}
                                <span style="color: red; font-weight: bold;">{{ article.get_status_display }}</span>
                            {% else %}
                                <span style="color: green; font-weight: bold;">{{ article.get_status_display }}</span>
                            {% endif %}
                        </td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="6" style="text-align:center;">登録された図書はありません。</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
